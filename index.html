<html>
<meta name="viewport" content="width=device-width, initial-scale=1">

<head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <div class="container">
        <div class="column-1">
            <div class="box">
                <h1><b>Mandlebrot Set</b></h1>
                <p>Centers to choose:</p>
                <select name="center" id="center">
                    <option value="1">(-0.75, 0.1)</option>
                    <option value="2">(-2.0, 0.0)</option>
                    <option value="3">(-0.10109636384562,0.95628651080914)</option>
                    <option value="4">(-0.77568377, 0.13646737)</option>
                </select>
                <form>

                    <p>Frames <input type="number" class="no-outline" placeholder="500" value="500" id="frames" min="10" max="10000"></p>
                    <p>Iterations <input type="number" class="no-outline" placeholder="100" value="100" id="iterations" min="20" max="500"></p>
                    <p>Hue <input type="number" class="no-outline" placeholder="30" value="30" id="hue" min="1" max="255"></p>
                    <p>Color<input type="text" class="no-outline" placeholder="#EFEFEF" value="#EFEFEF" id="color"></p>
                    <input type="submit" value="Generate" id="generate" />
                </form>
            </div>
        </div>
        <div class="column-2" id="canvasdiv">
            <canvas id="canvas" height="150" width="150"></canvas>
        </div>
    </div>
    <script type="module">
        import init, {generate_canvas} from './pkg/mandlebrotset.js';
		
		document.getElementById("generate").addEventListener("click", function(event){
			event.preventDefault();
            var center = document.getElementById("center").value;
            var frames = document.getElementById("frames").value;
			var iterations = document.getElementById("iterations").value;
            var hue = document.getElementById("hue").value;
			var color = document.getElementById("color").value;
			run(center, frames, iterations, hue, color);
		});
		
		async function run(center, frames, iterations, hue, color) {
			await init();
			generate_canvas(center, frames, iterations, hue, color);
		}
    </script>
</body>

</html>